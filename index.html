<script>
  const perguntas = [
    {
      pergunta: "Qual é o nome do movimento de flexionar o cotovelo?",
      opcoes: ["Extensão", "Flexão", "Rotação", "Abdução"],
      resposta: 1
    },
    {
      pergunta: "Qual das opções é uma atividade aeróbica?",
      opcoes: ["Musculação", "Corrida", "Yoga", "Pilates"],
      resposta: 1
    },
    {
      pergunta: "Qual músculo é trabalhado na prancha abdominal?",
      opcoes: ["Bíceps", "Glúteo", "Tríceps", "Abdômen"],
      resposta: 3
    },
    {
      pergunta: "Qual é a frequência cardíaca ideal durante exercícios moderados?",
      opcoes: ["50-60% da FC máxima", "70-80% da FC máxima", "30-40% da FC máxima", "90-100% da FC máxima"],
      resposta: 1
    },
    {
      pergunta: "O que é flexibilidade?",
      opcoes: [
        "Capacidade de produzir força",
        "Capacidade de movimentar-se com amplitude",
        "Velocidade de reação",
        "Quantidade de massa muscular"
      ],
      resposta: 1
    }
  ];

  let perguntaAtual = 0;
  let acertos = 0;

  const perguntaEl = document.getElementById("pergunta");
  const opcoesEl = document.getElementById("opcoes");
  const feedbackEl = document.getElementById("feedback");
  const proximaBtn = document.getElementById("proxima");

  function mostrarPergunta() {
    const atual = perguntas[perguntaAtual];
    perguntaEl.textContent = atual.pergunta;
    opcoesEl.innerHTML = "";
    feedbackEl.textContent = "";
    proximaBtn.style.display = "none";

    atual.opcoes.forEach((opcao, i) => {
      const btn = document.createElement("button");
      btn.textContent = opcao;
      btn.className = "opcao";
      btn.onclick = () => verificarResposta(i, btn);
      opcoesEl.appendChild(btn);
    });
  }

  function verificarResposta(indice, botao) {
    const correta = perguntas[perguntaAtual].resposta;
    const botoes = document.querySelectorAll(".opcao");

    botoes.forEach(btn => btn.disabled = true);

    if (indice === correta) {
      botao.classList.add("correta");
      feedbackEl.textContent = "✅ Resposta correta!";
      acertos++;
    } else {
      botao.classList.add("errada");
      feedbackEl.textContent = "❌ Resposta incorreta!";
      botoes[correta].classList.add("correta");
    }

    proximaBtn.style.display = "inline-block";
  }

  function mensagemFinal(pontos) {
    if (pontos === 0) {
      return "🏋️‍♂️ Vá agora montar seu plano de academia!";
    } else if (pontos <= 2) {
      return "🤔 Que tal se exercitar um pouco mais?";
    } else if (pontos === 3 || pontos === 4) {
      return "💪 Bom trabalho! Mas ainda dá pra melhorar.";
    } else {
      return "🎉 Parabéns! Você está em forma!";
    }
  }

  function mostrarBotaoReiniciar() {
    const reiniciarBtn = document.createElement("button");
    reiniciarBtn.textContent = "🔄 Reiniciar";
    reiniciarBtn.onclick = () => {
      perguntaAtual = 0;
      acertos = 0;
      mostrarPergunta();
      reiniciarBtn.remove();
    };
    feedbackEl.appendChild(document.createElement("br"));
    feedbackEl.appendChild(reiniciarBtn);
  }

  proximaBtn.onclick = () => {
    perguntaAtual++;
    if (perguntaAtual < perguntas.length) {
      mostrarPergunta();
    } else {
      perguntaEl.textContent = "🏁 Fim do Quiz!";
      opcoesEl.innerHTML = "";
      feedbackEl.textContent = mensagemFinal(acertos);
      proximaBtn.style.display = "none";
      mostrarBotaoReiniciar();
    }
  };

  mostrarPergunta();
</script>
